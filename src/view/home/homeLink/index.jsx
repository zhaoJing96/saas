import React, { Fragment } from 'react';
import { Menu, Icon } from 'antd';
// import { Link } from 'react-router-dom';
// import IconSvg from '../../component/iconSvg';
import { observer } from 'mobx-react';
import { setMenuKeys, setOpenSubMenuKeys, getMenuKeys, getOpenSubMenuKeys } from '@/common/store/storage';
// const { SubMenu } = Menu;

const HomeLink = observer(({ collapsed, collapsedEvent }) => {
    //设置一级导航Menu的KEY
    function onClickMunuEvent({ keyPath }) {
        setMenuKeys(keyPath);
    }
    //设置展开的SubMenu keys
    function onOpenChange(openKeys) {
        setOpenSubMenuKeys(openKeys);
    }
    //折叠
    function handleOnCollapsed() {
        onOpenChange([]);
        collapsedEvent();
    }
    const openKeys = getOpenSubMenuKeys();
    return <Fragment>
        <span className={collapsed ? 'collControl coll-ok' : 'collControl coll-no'} onClick={handleOnCollapsed}>
            <Icon type={collapsed ? 'right' : 'left'} />
        </span>
        <Menu
            mode="inline"
            selectedKeys={getMenuKeys()}
            openKeys={openKeys}
            onClick={onClickMunuEvent}
            onOpenChange={onOpenChange}
            inlineCollapsed={collapsed}>
            {/* <Menu.Item key="saas_employee">
                <Link to="/home/member" replace>
                    <IconSvg path='M9.50702673,0.75 C12.2224097,0.75 14.2294709,2.81899503 14.2294709,5.4851632 C14.2294709,5.70893358 14.2061208,5.9374574 14.1615638,6.17082716 C14.0438965,6.78711767 13.7892781,7.40843624 13.4188894,8.08518421 C13.2457793,8.40147878 12.7698268,9.18221658 12.7569969,9.21448246 L12.6950247,9.33653029 C12.4792124,9.67982167 12.4420246,9.91516388 12.4742034,10.0590058 L12.4725099,10.0538299 L12.4673261,10.0391517 L12.4632492,10.0286372 L12.4607877,10.0225651 L12.4845225,10.0888837 C12.5204477,10.2063949 12.8086476,10.441011 13.3995224,10.7490438 C13.7098727,10.9108346 14.9993603,11.5146025 15.1989806,11.6128804 C17.5451776,12.7679703 18.7486919,13.9256461 18.7500056,15.8110566 C18.7500056,17.9984159 17.6459792,19.25 15.6280863,19.25 L3.40691162,19.25 C1.38169854,19.25 0.265254541,18.0027358 0.250005594,15.8081599 C0.257674846,13.8224887 1.50332767,12.5743237 3.81092577,11.4619142 C4.12595551,11.3100498 5.63641376,10.6429763 5.95378984,10.4769894 C6.34382007,10.2730045 6.5246889,10.121397 6.53126561,10.0987756 L6.57328209,9.9878527 C6.59306636,9.94596402 6.58903504,9.75073287 6.34359385,9.37076123 C6.30166314,9.30863834 6.11102366,9.02401636 6.04370775,8.92007986 C5.89766962,8.69459541 5.76335242,8.47363729 5.63555018,8.24389707 C5.19868116,7.45857128 4.9062679,6.69614665 4.81552331,5.94707754 C4.79663692,5.7911761 4.78692477,5.63716632 4.78692477,5.4851632 C4.78692477,2.82009952 6.79261366,0.75 9.50702673,0.75 Z M9.50702673,2.25 C7.63183637,2.25 6.28692477,3.63810205 6.28692477,5.4851632 C6.28692477,5.57545949 6.29284623,5.66935869 6.30463625,5.76668171 C6.36816331,6.29107838 6.59565663,6.88423379 6.94637709,7.51469693 C7.0565006,7.71265748 7.1737874,7.90559979 7.30271546,8.10466611 C7.36536573,8.20139881 7.55612059,8.48606563 7.59344988,8.54133545 C8.12503657,9.36030304 8.15902379,10.0825467 7.95459369,10.5722469 C7.78397914,11.0855887 7.3571295,11.4358056 6.64895338,11.80618 C6.27852136,11.9999151 4.73633554,12.6810005 4.46228789,12.813109 C2.62004693,13.7011867 1.75480598,14.5681726 1.74998179,15.8058304 C1.75972938,17.2046353 2.24789314,17.75 3.40691162,17.75 L15.6280863,17.75 C16.772745,17.75 17.2500002,17.2089552 17.2500002,15.8115771 C17.24922,14.6872103 16.4122884,13.8821551 14.5364365,12.9586276 C14.3626063,12.8730467 13.0505599,12.2587163 12.7061152,12.0791515 C11.7829082,11.5978684 11.2581295,11.1741736 11.0578076,10.5521103 C11.0543904,10.5426839 11.0526465,10.5374754 11.0464496,10.5189665 C11.0284505,10.4610555 11.0284505,10.4610555 11.0103854,10.3864761 C10.8944022,9.86802208 10.9928711,9.23405913 11.4140501,8.55590894 C11.5712685,8.25881986 12.0017671,7.55012552 12.1030719,7.36502847 C12.4049326,6.81348999 12.6049582,6.32538859 12.6881786,5.88951611 C12.7156772,5.74549056 12.7294709,5.6104935 12.7294709,5.4851632 C12.7294709,3.637392 11.3836095,2.25 9.50702673,2.25 Z M17.25,7 C17.6642136,7 18,7.33578644 18,7.75 C18,8.16421356 17.6642136,8.5 17.25,8.5 L15.75,8.5 C15.3357864,8.5 15,8.16421356 15,7.75 C15,7.33578644 15.3357864,7 15.75,7 L17.25,7 Z M18.25,4 C18.6642136,4 19,4.33578644 19,4.75 C19,5.16421356 18.6642136,5.5 18.25,5.5 L15.75,5.5 C15.3357864,5.5 15,5.16421356 15,4.75 C15,4.33578644 15.3357864,4 15.75,4 L18.25,4 Z' />
                    <span>成员管理</span>
                </Link>
            </Menu.Item>
            <SubMenu
                key="device"
                title={
                    <a>
                        <IconSvg path='M10,1.75 C14.5452274,1.75 18.25,5.20778778 18.25,9.5 C18.25,9.69496058 18.242323,9.88908752 18.2270508,10.082098 C18.8735228,10.4453248 19.25,10.8977472 19.25,11.5 C19.25,12.3597394 18.3308949,13.025326 16.8026955,13.4862065 C16.1678601,16.5368135 14.7071131,19.0996659 12.3624355,19.2436243 L12.1532568,19.25 L8.10890819,19.25 C6.42632749,19.25 5.15205258,18.1439081 4.23368486,16.3454032 C3.77045856,15.4382342 3.42306845,14.39049 3.21992707,13.4930829 C1.67841088,13.032043 0.75,12.3640808 0.75,11.5 C0.75,10.8977623 1.12649113,10.4452745 1.77274593,10.0818909 C1.75762891,9.88840335 1.75,9.69436848 1.75,9.5 C1.75,5.20778778 5.45477262,1.75 10,1.75 Z M15.1667694,13.863579 L14.9708368,13.8971975 C13.5467388,14.1309626 11.8475928,14.25 10,14.25 C8.0825714,14.25 6.32502377,14.1217937 4.86886367,13.8701983 C5.04579307,14.4702933 5.28403886,15.1040169 5.5695981,15.6632479 C6.22070191,16.9383509 7.01384989,17.6662574 7.94344646,17.7432004 L8.10890819,17.75 L12.1532568,17.75 C13.465307,17.75 14.5755662,16.0261356 15.1667694,13.863579 Z M10,3.25 C9.56743009,3.25 9.14460502,3.28761254 8.73505964,3.35946104 L8.74642354,3.42854549 L8.74642354,3.42854549 L8.75,3.5 L8.75,6.97736482 C8.75,7.39157839 8.41421356,7.72736482 8,7.72736482 C7.62030423,7.72736482 7.30650904,7.44521094 7.25684662,7.07913538 L7.25,6.97736482 L7.25085847,3.79001177 C4.88932237,4.7665454 3.25,6.96189308 3.25,9.5 C3.25,9.80454645 3.27347186,10.1085838 3.31968316,10.4110706 L3.40800319,10.98919 L2.86884899,11.2157628 C2.60629769,11.3260968 2.4129923,11.4360934 2.29813924,11.5323213 C2.47253321,11.6319798 3.1165481,11.9383098 4.16137186,12.1841507 C5.68434307,12.5424969 7.76936136,12.75 10,12.75 C12.2306386,12.75 14.3156569,12.5424969 15.8386281,12.1841507 C16.883218,11.9383648 17.5271784,11.632117 17.7017436,11.5323883 C17.586712,11.4361544 17.3931328,11.3261712 17.1301559,11.2158526 L16.5881614,10.9884862 L16.6793719,10.4078537 C16.7262815,10.1092337 16.75,9.80612866 16.75,9.5 C16.75,6.96225433 15.1111442,4.76717033 12.7501498,3.79042881 L12.75,6.97736482 C12.75,7.39157839 12.4142136,7.72736482 12,7.72736482 C11.5857864,7.72736482 11.25,7.39157839 11.25,6.97736482 L11.25,3.5 C11.25,3.45174553 11.2545571,3.40455543 11.2632644,3.35883659 C10.855395,3.28761254 10.4325699,3.25 10,3.25 Z' />
                        <span>设备管理</span>
                    </a>
                }>
                <Menu.Item key="saas_bind_device">
                    <Link to="/home/device/deviceBound" replace>已绑定设备</Link>
                </Menu.Item>
                <Menu.Item key="saas_unbind_device">
                    <Link to='/home/device/deviceUnbound' replace>未绑定设备</Link>
                </Menu.Item>
            </SubMenu> */}
        </Menu>
    </Fragment >;
});
export default HomeLink;
